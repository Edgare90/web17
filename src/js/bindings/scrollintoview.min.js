"use strict";var $=require("jquery"),ko=require("knockout"),console=require("console"),_scrollIntoView=function(e,t,i,r){var n=i.scrollTop(),o=n-r-(t?20:-20),a="undefined"!=typeof i[0].nodeType;if(a){var s={scrollTop:""+Math.round(o)+"px"},l=Math.round(Math.abs(o-n));i.stop().animate(s,l)}else i.scrollTop(o)};ko.bindingHandlers.scrollIntoView={update:function(e,t,i,r,n){var o=ko.utils.unwrapObservable(t());if(o)try{for(;8===e.nodeType;)e=e.nextSibling;if(8!==e.nodeType){var s,a=$(e).scrollParent(),l=!1;9==a[0].nodeType?(a=$(a[0].defaultView),s=0,l=!0):s=a.offset().top;var d=a.height(),c=a.scrollTop(),u=s+d,f=$(e),p=f.offset().top;l&&(p-=c);var v=f.height(),m=p+v;p>s&&u>p+v||(d>v?(s>p&&_scrollIntoView(e,!0,a,s-p),m>u&&_scrollIntoView(e,!1,a,u-m)):(s>p&&u>m&&_scrollIntoView(e,!1,a,u-m),p>s&&m>u&&_scrollIntoView(e,!0,a,s-p)))}}catch(h){console.log("TODO exception scrolling into view",h)}}},ko.virtualElements.allowedBindings.scrollIntoView=!0;