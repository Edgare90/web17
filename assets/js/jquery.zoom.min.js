!function(e){var t={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};e.zoom=function(t,r,a,i){var n,o,s,l,c,d,v,u=e(t).css("position"),f=e(r);return t.style.position=/(absolute|fixed)/.test(u)?u:"relative",t.style.overflow="hidden",a.style.width=a.style.height="",e(a).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:a.width*i,height:a.height*i,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(t),{init:function(){o=e(t).outerWidth(),n=e(t).outerHeight(),r===t?(l=o,s=n):(l=f.outerWidth(),s=f.outerHeight()),c=(a.width-o)/l,d=(a.height-n)/s,v=f.offset()},move:function(e){var t=e.pageX-v.left,r=e.pageY-v.top;r=Math.max(Math.min(r,s),0),t=Math.max(Math.min(t,l),0),a.style.left=t*-c+"px",a.style.top=r*-d+"px"}}},e.fn.zoom=function(r){return this.each(function(){var u,a=e.extend({},t,r||{}),i=a.target||this,n=this,o=e(n),s=document.createElement("img"),l=e(s),c="mousemove.zoom",d=!1,v=!1;(a.url||(u=o.find("img"),u[0]&&(a.url=u.data("src")||u.attr("src")),a.url))&&(!function(){var e=i.style.position,t=i.style.overflow;o.one("zoom.destroy",function(){o.off(".zoom"),i.style.position=e,i.style.overflow=t,l.remove()})}(),s.onload=function(){function r(r){t.init(),t.move(r),l.stop().fadeTo(e.support.opacity?a.duration:0,1,e.isFunction(a.onZoomIn)?a.onZoomIn.call(s):!1)}function u(){l.stop().fadeTo(a.duration,0,e.isFunction(a.onZoomOut)?a.onZoomOut.call(s):!1)}var t=e.zoom(i,n,s,a.magnify);"grab"===a.on?o.on("mousedown.zoom",function(a){1===a.which&&(e(document).one("mouseup.zoom",function(){u(),e(document).off(c,t.move)}),r(a),e(document).on(c,t.move),a.preventDefault())}):"click"===a.on?o.on("click.zoom",function(a){return d?void 0:(d=!0,r(a),e(document).on(c,t.move),e(document).one("click.zoom",function(){u(),d=!1,e(document).off(c,t.move)}),!1)}):"toggle"===a.on?o.on("click.zoom",function(e){d?u():r(e),d=!d}):"mouseover"===a.on&&(t.init(),o.on("mouseenter.zoom",r).on("mouseleave.zoom",u).on(c,t.move)),a.touch&&o.on("touchstart.zoom",function(e){e.preventDefault(),v?(v=!1,u()):(v=!0,r(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]))}).on("touchmove.zoom",function(e){e.preventDefault(),t.move(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}),e.isFunction(a.callback)&&a.callback.call(s)},s.src=a.url)})},e.fn.zoom.defaults=t}(window.jQuery);