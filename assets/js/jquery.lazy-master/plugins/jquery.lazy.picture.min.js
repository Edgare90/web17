!function(e){function t(t,i){var r=t.prop("attributes"),n=e("<"+i+">");return e.each(r,function(e,t){n.attr(t.name,t.value)}),t.replaceWith(n),n}function i(t,i,r){var n=e("<img>").one("load",function(){r(!0)}).one("error",function(){r(!1)}).appendTo(t).attr("src",i);n.complete&&n.load()}e.lazy(["pic","picture"],["picture"],function(r,n){var o=r[0].tagName.toLowerCase();if("picture"===o){var a="data-src",s="data-srcset",l="data-media",d="data-sizes",c="data-type",u=r.find(a),f=r.find("data-img");u.length?(u.each(function(){t(e(this),"source")}),1===f.length?(f=t(f,"img"),f.on("load",function(){n(!0)}).on("error",function(){n(!1)}),f.attr("src",f.attr(a)),this.config("removeAttribute")&&f.removeAttr(a)):r.attr(a)?(i(r,r.attr(a),n),this.config("removeAttribute")&&r.removeAttr(a)):n(!1)):r.attr(s)?(e("<source>").attr({media:r.attr(l),sizes:r.attr(d),type:r.attr(c),srcset:r.attr(s)}).appendTo(r),i(r,r.attr(a),n),this.config("removeAttribute")&&r.removeAttr(a+" "+s+" "+l+" "+d+" "+c)):n(!1)}else n(!1)})}(window.jQuery||window.Zepto);