!function(e,t){"use strict";function o(r,o,n,s,l){function x(){v=e.devicePixelRatio>1,k(n),o.delay>=0&&setTimeout(function(){C(!0)},o.delay),(o.delay<0||o.combined)&&(s.e=F(o.throttle,function(e){"resize"===e.type&&(c=u=-1),C(e.all)}),s.a=function(e){k(e),n.push.apply(n,e)},s.g=function(){return n=i(n).filter(function(){return!i(this).data(o.loadedName)})},s.f=function(e){for(var t=0;t<e.length;t++){var i=n.filter(function(){return this===e[t]});i.length&&C(!1,i)}},C(),i(o.appendScroll).on("scroll."+l+" resize."+l,s.e))}function k(e){var a=o.defaultImage,n=o.placeholder,s=o.imageBase,l=o.srcsetAttribute,d=o.loaderAttribute,c=o._f||{};e=i(e).filter(function(){var e=i(this),r=T(this);return!e.data(o.handledName)&&(e.attr(o.attribute)||e.attr(l)||e.attr(d)||c[r]!==t)}).data("plugin_"+o.name,r);for(var u=0,v=e.length;v>u;u++){var f=i(e[u]),p=T(e[u]),h=f.attr(o.imageBaseAttribute)||s;p===m&&h&&f.attr(l)&&f.attr(l,D(f.attr(l),h)),c[p]===t||f.attr(d)||f.attr(d,c[p]),p===m&&a&&!f.attr(g)?f.attr(g,a):p===m||!n||f.css(w)&&"none"!==f.css(w)||f.css(w,"url('"+n+"')")}}function C(e,t){if(!n.length)return void(o.autoDestroy&&r.destroy());for(var a=t||n,s=!1,l=o.imageBase||"",d=o.srcsetAttribute,c=o.handledName,u=0;u<a.length;u++)if(e||t||_(a[u])){var v=i(a[u]),f=T(a[u]),p=v.attr(o.attribute),h=v.attr(o.imageBaseAttribute)||l,y=v.attr(o.loaderAttribute);v.data(c)||o.visibleOnly&&!v.is(":visible")||!((p||v.attr(d))&&(f===m&&(h+p!==v.attr(g)||v.attr(d)!==v.attr(b))||f!==m&&h+p!==v.css(w))||y)||(s=!0,v.data(c,!0),S(v,f,h,y))}s&&(n=i(n).filter(function(){return!i(this).data(c)}))}function S(e,t,r,a){++d;var n=function(){I("onError",e),M(),n=i.noop};I("beforeLoad",e);var s=o.attribute,l=o.srcsetAttribute,c=o.sizesAttribute,u=o.retinaAttribute,x=o.removeAttribute,k=o.loadedName,C=e.attr(u);if(a){var S=function(){x&&e.removeAttr(o.loaderAttribute),e.data(k,!0),I(f,e),setTimeout(M,1),S=i.noop};e.off(h).one(h,n).one(p,S),I(a,e,function(t){t?(e.off(p),S()):(e.off(h),n())})||e.trigger(h)}else{var _=i(new Image);_.one(h,n).one(p,function(){e.hide(),t===m?e.attr(y,_.attr(y)).attr(b,_.attr(b)).attr(g,_.attr(g)):e.css(w,"url('"+_.attr(g)+"')"),e[o.effect](o.effectTime),x&&(e.removeAttr(s+" "+l+" "+u+" "+o.imageBaseAttribute),c!==y&&e.removeAttr(c)),e.data(k,!0),I(f,e),_.remove(),M()});var E=(v&&C?C:e.attr(s))||"";_.attr(y,e.attr(c)).attr(b,e.attr(l)).attr(g,E?r+E:null),_.complete&&_.trigger(p)}}function _(e){var t=e.getBoundingClientRect(),i=o.scrollDirection,r=o.threshold,a=$()+r>t.top&&-r<t.bottom,n=E()+r>t.left&&-r<t.right;return"vertical"===i?a:"horizontal"===i?n:a&&n}function E(){return c>=0?c:c=i(e).width()}function $(){return u>=0?u:u=i(e).height()}function T(e){return e.tagName.toLowerCase()}function D(e,t){if(t){var i=e.split(",");e="";for(var r=0,a=i.length;a>r;r++)e+=t+i[r].trim()+(r!==a-1?",":"")}return e}function F(e,t){var i,a=0;return function(n,s){function d(){a=+new Date,t.call(r,n)}var l=+new Date-a;i&&clearTimeout(i),l>e||!o.enableThrottle||s?d():i=setTimeout(d,e-l)}}function M(){--d,n.length||d||I("onFinishedAll")}function I(e,t,i){return(e=o[e])?(e.apply(r,[].slice.call(arguments,1)),!0):!1}var d=0,c=-1,u=-1,v=!1,f="afterLoad",p="load",h="error",m="img",g="src",b="srcset",y="sizes",w="background-image";"event"===o.bind||a?x():i(e).on(p+"."+l,x)}function n(a,n){var s=this,l=i.extend({},s.config,n),d={},c=l.name+"-"+ ++r;return s.config=function(e,i){return i===t?l[e]:(l[e]=i,s)},s.addItems=function(e){return d.a&&d.a("string"===i.type(e)?i(e):e),s},s.getItems=function(){return d.g?d.g():{}},s.update=function(e){return d.e&&d.e({},!e),s},s.force=function(e){return d.f&&d.f("string"===i.type(e)?i(e):e),s},s.loadAll=function(){return d.e&&d.e({all:!0},!0),s},s.destroy=function(){return i(l.appendScroll).off("."+c,d.e),i(e).off("."+c),d={},t},o(s,l,a,d,c),l.chainable?a:s}var i=e.jQuery||e.Zepto,r=0,a=!1;i.fn.Lazy=i.fn.lazy=function(e){return new n(this,e)},i.Lazy=i.lazy=function(e,r,a){if(i.isFunction(r)&&(a=r,r=[]),i.isFunction(a)){e=i.isArray(e)?e:[e],r=i.isArray(r)?r:[r];for(var o=n.prototype.config,s=o._f||(o._f={}),l=0,d=e.length;d>l;l++)(o[e[l]]===t||i.isFunction(o[e[l]]))&&(o[e[l]]=a);for(var c=0,u=r.length;u>c;c++)s[r[c]]=e[0]}},n.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:e,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:t,afterLoad:t,onError:t,onFinishedAll:t},i(e).on("load",function(){a=!0})}(window);