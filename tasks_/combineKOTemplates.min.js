"use strict";var path=require("path");module.exports=function(e){e.registerMultiTask("combineKOTemplates",function(){var t=e.file.expand(this.data.src),a="",n=this.data.templateSystemPath||"../src/js/bindings/choose-template.js";a+="var templateSystem = require('"+n+"');\n",a+="document.addEventListener('DOMContentLoaded', function(event) {\n",t.forEach(function(t){var n=path.basename(t).replace(".tmpl.html",""),r=e.file.read(t).replace(/"/g,"\\x22").replace(/(\r\n|\n|\r)/gm,"");a+='templateSystem.addTemplate("'+n+'", "'+r+'");\n'}),a+="});\n",e.file.write(this.data.dest,a)})};