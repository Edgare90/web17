!function(e){"use strict";function t(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function i(t){var i=0,a=0;if(!t)var t=e.event;return t.pageX||t.pageY?(i=t.pageX,a=t.pageY):(t.clientX||t.clientY)&&(i=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:i,y:a}}function a(e,i){this.DOM={},this.DOM.el=e,this.options=t({},this.options),t(this.options,i),this._init()}a.prototype.options={movement:{imgWrapper:{translation:{x:0,y:0,z:0},rotation:{x:-5,y:5,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}},lines:{translation:{x:10,y:10,z:[0,10]},reverseAnimation:{duration:1e3,easing:"easeOutExpo",elasticity:600}},caption:{translation:{x:20,y:20,z:0},rotation:{x:0,y:0,z:0},reverseAnimation:{duration:1500,easing:"easeOutElastic",elasticity:600}},shine:{translation:{x:50,y:50,z:0},reverseAnimation:{duration:1200,easing:"easeOutElastic",elasticity:600}}}},a.prototype._init=function(){this.DOM.animatable={},this.DOM.animatable.imgWrapper=this.DOM.el.querySelector(".tilter__figure"),this.DOM.animatable.lines=this.DOM.el.querySelector(".tilter__deco--lines"),this.DOM.animatable.caption=this.DOM.el.querySelector(".tilter__caption"),this.DOM.animatable.overlay=this.DOM.el.querySelector(".tilter__deco--overlay"),this.DOM.animatable.shine=this.DOM.el.querySelector(".tilter__deco--shine > div"),this._initEvents()},a.prototype._initEvents=function(){var e=this;this.mouseenterFn=function(){for(var t in e.DOM.animatable)anime.remove(e.DOM.animatable[t])},this.mousemoveFn=function(t){requestAnimationFrame(function(){e._layout(t)})},this.mouseleaveFn=function(t){requestAnimationFrame(function(){for(var t in e.DOM.animatable)void 0!=e.options.movement[t]&&anime({targets:e.DOM.animatable[t],duration:void 0!=e.options.movement[t].reverseAnimation?e.options.movement[t].reverseAnimation.duration||0:1,easing:void 0!=e.options.movement[t].reverseAnimation?e.options.movement[t].reverseAnimation.easing||"linear":"linear",elasticity:void 0!=e.options.movement[t].reverseAnimation?e.options.movement[t].reverseAnimation.elasticity||null:null,scaleX:1,scaleY:1,scaleZ:1,translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0})})},this.DOM.el.addEventListener("mousemove",this.mousemoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn),this.DOM.el.addEventListener("mouseenter",this.mouseenterFn)},a.prototype._layout=function(e){var t=i(e),a={left:document.body.scrollLeft+document.documentElement.scrollLeft,top:document.body.scrollTop+document.documentElement.scrollTop},n=this.DOM.el.getBoundingClientRect(),s={x:t.x-n.left-a.left,y:t.y-n.top-a.top};for(var r in this.DOM.animatable)if(void 0!=this.DOM.animatable[r]&&void 0!=this.options.movement[r]){var o=void 0!=this.options.movement[r]?this.options.movement[r].translation||{x:0,y:0,z:0}:{x:0,y:0,z:0},c=void 0!=this.options.movement[r]?this.options.movement[r].rotation||{x:0,y:0,z:0}:{x:0,y:0,z:0},l=function(e){for(var t in e)void 0==e[t]?e[t]=[0,0]:"number"==typeof e[t]&&(e[t]=[-1*e[t],e[t]])};l(o),l(c);var v={translation:{x:(o.x[1]-o.x[0])/n.width*s.x+o.x[0],y:(o.y[1]-o.y[0])/n.height*s.y+o.y[0],z:(o.z[1]-o.z[0])/n.height*s.y+o.z[0]},rotation:{x:(c.x[1]-c.x[0])/n.height*s.y+c.x[0],y:(c.y[1]-c.y[0])/n.width*s.x+c.y[0],z:(c.z[1]-c.z[0])/n.width*s.x+c.z[0]}};this.DOM.animatable[r].style.WebkitTransform=this.DOM.animatable[r].style.transform="translateX("+v.translation.x+"px) translateY("+v.translation.y+"px) translateZ("+v.translation.z+"px) rotateX("+v.rotation.x+"deg) rotateY("+v.rotation.y+"deg) rotateZ("+v.rotation.z+"deg)"}},e.TiltFx=a}(window);